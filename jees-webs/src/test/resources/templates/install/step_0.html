
<!DOCTYPE html>
<!--[if IE 8]> <html lang="zh" class="ie8"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<!--<![endif]-->
<head th:replace="|${TPL}/_inc/_utils|::head( 'Jees Webs | 安装引导', '','' )" />
<body>
    <!-- begin #page-loader -->
    <div id="page-loader" class="fade show"><span class="spinner"></span></div>
    <!-- end #page-loader -->

    <!-- begin #page-container -->
    <div id="page-container" class="fade">
        <!-- begin welcome -->
        <div class="jumbotron text-center bg-white">
            <h1 class="text-inverse">安装JEES Webs开发环境</h1>
            <p class="lead m-b-20" >欢迎使用本系统，正式开始前，请先配置初始系统环境。</p>
            <p>
                <a id="btnStart" class="btn btn-lg btn-warning" href="javascript:void(0);" onclick="javascript:;">等待配置完成</a>
                <a id="btnFinish" class="btn btn-lg btn-primary" href="javascript:void(0);" onclick="javascript:Install.finish();">设置完成，开始安装</a>
                <a id="btnRestart" class="btn btn-lg btn-success" href="javascript:void(0);" onclick="javascript:;">请重启服务器</a>
            </p>
            <a href="https://github.com/aiyoyoyo/jeesupport/" target="_blank" class="text-muted">jeesupport</a>
        </div>
        <!-- end welcome -->

        <!-- begin row -->
        <div class="row">
            <!-- end col-4 -->
            <div class="col-lg-4">
                <!-- begin panel -->
                <div class="panel">
                    <div class="panel-heading">
                        <div id="redisStatus"  class="pull-right">
                            <b class="fa fa-check fa-fw text-green"></b>已完成
                        </div>
                        <h4><i class="fa fa-bars fa-fw"></i> 第一步：Redis配置</h4>
                    </div>
                    <div class="panel-body">
                        <p>
                            <t>请先配置系统所需的Redis数据库配置内容</t>
                            <div id="redisAlert" class="alert alert-danger fade show">
                                <span id="redisAlertClose" class="close">&times;</span>
                                连接失败，请确定各项配置是否正确
                            </div>
                        </p>
                        <form>
                            <!-- redis.host -->
                            <div class="form-group row m-b-9">
                                <label class="col-md-3 col-form-label">Redis连接地址</label>
                                <div class="col-md-9">
                                    <input id="redisHost" type="text" class="form-control" value="127.0.0.1" placeholder="示例：127.0.0.1" />
                                </div>
                            </div>
                            <!-- redis.port -->
                            <div class="form-group row m-b-9">
                                <label class="col-form-label col-md-3">Redis连接端口</label>
                                <div class="col-md-9">
                                    <input id="redisPort" type="text" class="form-control" value="6379" placeholder="示例：6379" />
                                </div>
                            </div>
                            <!-- redis.database -->
                            <div class="form-group row m-b-9">
                                <label class="col-md-3 col-form-label">数据库索引</label>
                                <div class="col-md-9">
                                    <input id="redisDatabase" type="text" class="form-control" value="0" placeholder="示例：0" />
                                </div>
                            </div>
                            <!-- redis.password -->
                            <div class="form-group row m-b-9">
                                <label class="col-form-label col-md-3">Redis连接密码</label>
                                <div class="col-md-9">
                                    <input id="redisPassword" type="password" class="form-control" placeholder="输入密码" />
                                </div>
                            </div>
                        </form>
                        <a id="btnRedis0" href="javascript:;" class="btn btn-warning btn-sm" onclick="javascript:Install.redis();">验证连接</a>
                        <a id="btnRedis1" href="javascript:;" class="btn btn-success btn-sm" onclick="javascript:Install.redis();">重新验证</a>
                    </div>
                </div>
                <!-- end panel -->
            </div>
            <!-- begin col-4 -->
            <!-- end col-4 -->
            <div class="col-lg-4">
                <!-- begin panel -->
                <div class="panel">
                    <div class="panel-heading">
                        <div id="adminStatus"  class="pull-right">
                            <b class="fa fa-check fa-fw text-green"></b>已完成
                        </div>
                        <h4><i class="fa fa-bars fa-fw"></i> 第二步：超级管理员配置</h4>
                    </div>
                    <div class="panel-body">
                        <p>
                            <t>管理账号用于登录系统后台，拥有最大权限</t>
                            <div id="adminAlert" class="alert alert-warning fade show">
                                <span id="adminAlertClose" class="close">&times;</span>
                                请在本地项目中继承并实现<code>AbsInstallService.install</code>方法
                            </div>
                        </p>
                        <form>
                            <!-- admin.account -->
                            <div class="form-group row m-b-9">
                                <label class="col-md-3 col-form-label">管理员账号</label>
                                <div class="col-md-9">
                                    <input id="adminAccount" type="text" class="form-control" value="administrator" placeholder="示例：administrator" />
                                </div>
                            </div>
                            <!-- admin.password -->
                            <div class="form-group row m-b-9">
                                <label class="col-form-label col-md-3">管理员密码</label>
                                <div class="col-md-9">
                                    <input id="adminPassword" type="password" class="form-control" placeholder="请输入密码，最小6位" />
                                </div>
                            </div>
                            <!-- admin.group -->
                            <div class="form-group row m-b-9">
                                <label class="col-form-label col-md-3">管理员分组</label>
                                <div class="col-md-9">
                                    <input id="adminGroup" type="text" class="form-control" value="系统管理员" placeholder="示例：系统管理员" />
                                </div>
                            </div>
                        </form>
                        <a id="btnAdmin0" href="javascript:;" class="btn btn-warning btn-sm" onclick="javascript:Install.admin();">保存</a>
                        <a id="btnAdmin1" href="javascript:;" class="btn btn-success btn-sm" onclick="javascript:Install.admin();">重新保存</a>
                    </div>
                </div>
                <!-- end panel -->
            </div>
            <!-- begin col-4 -->
            <!-- end col-4 -->
            <div class="col-lg-4">
                <!-- begin panel -->
                <div class="panel">
                    <div class="panel-heading">
                        <div id="otherStatus"  class="pull-right">
                            <b class="fa fa-check fa-fw text-green"></b>已完成
                        </div>
                        <h4><i class="fa fa-bars fa-fw"></i> 第三步：其他配置</h4>
                    </div>
                    <div class="panel-body">
                        <p>
                            <t>管理账号用于登录系统后台，拥有最大权限，</t>
                            <div id="otherAlert" class="alert alert-warning fade show">
                                <span id="otherAlertClose" class="close">&times;</span>
                                服务器端口设置后，一但安装完成，无法通过此安装再次更改
                            </div>
                        </p>
                        <form>
                            <!-- server.port -->
                            <div class="form-group row m-b-9">
                                <label class="col-md-3 col-form-label">服务器端口</label>
                                <div class="col-md-9">
                                    <input id="serverPort" type="text" class="form-control" value="80" placeholder="示例：80" />
                                </div>
                            </div>
                            <!-- install.path -->
                            <div class="form-group row m-b-9">
                                <label class="col-md-3 col-form-label">源配置文件夹</label>
                                <div class="col-md-9">
                                    <input id="installPath" type="text" class="form-control" value="" placeholder="示例：C:/app/src.resources/config" />
                                </div>
                            </div>
                        </form>
                        <!--
                        <img src="default/assets/img/login-bg/login-bg-1.jpg" />
                        -->
                        <a id="btnOther0" href="javascript:;" class="btn btn-warning btn-sm" onclick="javascript:Install.other();">保存</a>
                        <a id="btnOther1" href="javascript:;" class="btn btn-success btn-sm" onclick="javascript:Install.other();">重新设置</a>
                    </div>
                </div>
                <!-- end panel -->
            </div>
            <!-- end col-4 -->
        </div>
        <!-- end row -->
    </div>
    <!-- end page container -->
    <c th:include="|${TPL}/_inc/_utils|::js( 'dwr,sweetalert' )" />
    <c th:include="|${TPL}/_inc/_utils|::dwr( 'InstallRemote' )" />
    <c th:include="|${TPL}/_inc/_utils|::custom( 'install/install' )" />

    <script>
		$(document).ready(function() {
		    App.init();
			Install.init();
		});
	</script>
</body>
</html>
